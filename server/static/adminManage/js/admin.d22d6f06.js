(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{"459d":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index-wrap"},[a("div",{staticClass:"header-cate-wrap"},[a("a-row",[a("a-col",{staticClass:"column-tit",attrs:{xs:{span:4},lg:{span:2}}},[t._v("管理员列表:")]),a("a-col",{attrs:{span:18}},[a("div",{staticClass:"mb-20"},[a("a-button",{attrs:{type:"primary"},on:{click:t.showAddModal}},[t._v("添加")])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.admins,pagination:t.isShowPagination,rowKey:"username"},scopedSlots:t._u([{key:"username",fn:function(e){return a("span",{},[t._v(t._s(e))])}},{key:"role",fn:function(e){return a("span",{},[a("span",{staticClass:"text-overflow-20",attrs:{title:e}},[t._v(t._s(+e?"普通管理员":"超级管理员"))])])}},{key:"action",fn:function(e){return a("span",{},[a("a",{on:{click:function(a){return t.editAdmin(e)}}},[t._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(a){return t.delAdmin(e)}}},[t._v("删除")])],1)}}])},[a("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[t._v("名称")])])],1)],1),a("admin-modal",{attrs:{modalType:t.modalType,visible:t.isShowModal,rowData:t.rowData,onSubmit:t.handleSubmit,onCancel:t.closeModal}})],1)])},n=[],r=(a("cd17"),a("ed3b")),i=a("85f2"),s=a.n(i),l=a("9ab4"),d=a("60a3"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"add"===t.modalType?"添加管理员":"修改管理员",visible:t.visible,okText:"确认",cancelText:"取消"},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[a("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[a("a-form-item",{attrs:{label:"名称","label-col":{span:8},"wrapper-col":{span:12}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入管理员名称!"}],initialValue:t.rowData&&t.rowData.username||""}],expression:"[\n                'username',\n                {\n                    rules: [{ required: true, message: '请输入管理员名称!' }],\n                    initialValue: rowData && rowData.username || ''\n                }\n            ]"}],attrs:{placeholder:"请输入管理员名称"}})],1),a("a-form-item",{attrs:{label:"权限","label-col":{span:8},"wrapper-col":{span:12}}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["role",{rules:[{required:!0,message:"请选择权限!"}],initialValue:t.rowData&&t.rowData.role+""||""}],expression:"['role',\n                {\n                    rules: [{ required: true, message: '请选择权限!' }],\n                    initialValue: rowData && rowData.role+  '' || ''\n                }]"}]},[a("a-radio",{attrs:{value:"0"}},[t._v("\n                    超级管理员\n                ")]),a("a-radio",{attrs:{value:"1"}},[t._v("\n                    管理员\n                ")])],1)],1),a("a-form-item",{attrs:{label:"密码","label-col":{span:8},"wrapper-col":{span:12}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pwd",{rules:[{required:!0,message:"请输入密码!"}],initialValue:t.rowData&&t.rowData.pwd||""}],expression:"[\n                'pwd',\n                {\n                    rules: [{ required: true, message: '请输入密码!' }],\n                    initialValue: rowData && rowData.pwd || ''\n                }\n            ]"}],attrs:{type:"password",placeholder:"请输入密码"}})],1)],1)],1)},u=[],p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l["c"](e,t),e.prototype.beforeCreate=function(){this.form=this.$form.createForm(this)},e.prototype.handleCancel=function(t){this.onCancel()},e.prototype.handleSubmit=function(t){var e=this;t.preventDefault(),this.form.validateFields(function(t,a){t||e.onSubmit(a)})},l["b"]([Object(d["b"])({default:!1})],e.prototype,"visible",void 0),l["b"]([Object(d["b"])({default:"add"})],e.prototype,"modalType",void 0),l["b"]([Object(d["b"])({default:null})],e.prototype,"rowData",void 0),l["b"]([Object(d["b"])({default:function(){}})],e.prototype,"onSubmit",void 0),l["b"]([Object(d["b"])({default:function(){}})],e.prototype,"onCancel",void 0),e=l["b"]([d["a"]],e),e}(d["c"]),m=p,f=m,h=a("2877"),w=Object(h["a"])(f,c,u,!1,null,null,null),b=w.exports,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="admin",e.isShowModal=!1,e.modalType="add",e.rowData={},e.isShowPagination=!1,e.columns=[{dataIndex:"username",key:"username",slots:{title:"customTitle"},scopedSlots:{customRender:"username"}},{title:"权限",key:"role",dataIndex:"role",scopedSlots:{customRender:"role"}},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],e}return l["c"](e,t),s()(e.prototype,"admins",{get:function(){return this.$store.state.admins},enumerable:!0,configurable:!0}),e.prototype.created=function(){this.$store.dispatch("getAdmins")},e.prototype.showAddModal=function(){this.isShowModal=!0,this.rowData={}},e.prototype.editAdmin=function(t){this.rowData=t,this.modalType="edit",this.isShowModal=!0},e.prototype.handleSubmit=function(t){var e=this;"edit"===this.modalType?this.$store.dispatch("editAdmin",l["a"]({},t,{prevName:this.rowData.username})).finally(function(){e.isShowModal=!1}):this.$store.dispatch("addAdmin",t).finally(function(){e.isShowModal=!1})},e.prototype.closeModal=function(){this.isShowModal=!1},e.prototype.delAdmin=function(t){var e=this;r["a"].confirm({title:"提示",content:"确定要删除吗？",okText:"确认",cancelText:"取消",onOk:function(){e.$store.dispatch("delAdmin",t.username)}})},e=l["b"]([Object(d["a"])({components:{AdminModal:b}})],e),e}(d["c"]),y=v,S=y,D=Object(h["a"])(S,o,n,!1,null,"c48308d4",null);e["default"]=D.exports}}]);
//# sourceMappingURL=admin.d22d6f06.js.map